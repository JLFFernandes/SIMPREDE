{"timestamp":"2025-06-05T15:39:30.547144","level":"info","event":"DAG bundles loaded: dags-folder","logger":"airflow.dag_processing.bundles.manager.DagBundlesManager"}
{"timestamp":"2025-06-05T15:39:30.548482","level":"info","event":"Filling up the DagBag from /opt/airflow/dags/google_scraper_dag.py","logger":"airflow.models.dagbag.DagBag"}
{"timestamp":"2025-06-05T15:39:37.703730Z","level":"info","event":"ğŸ”„ Starting export_supabase task","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.743303Z","level":"info","event":"ğŸ“ Ensured directories exist: ['/opt/airflow/data/raw/2025/06/04', '/opt/airflow/data/structured/2025/06/04', '/opt/airflow/data/processed/2025/06/04']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.748912Z","level":"info","event":"ğŸ“… Export Parameters:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.750341Z","level":"info","event":"  - Days: 1","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.750679Z","level":"info","event":"  - Specific date: None (use execution_date)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.750963Z","level":"info","event":"  - Target date: 2025-06-04","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.751139Z","level":"info","event":"ğŸ“ Input/Output paths:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.803258Z","level":"info","event":"ğŸ” Checking for input file: /opt/airflow/data/processed/2025/06/04/artigos_vitimas_filtrados_20250604.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.805432Z","level":"info","event":"âŒ No input file found from filtrar task","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.811588Z","level":"info","event":"ğŸ” Checking legacy path: /opt/airflow/scripts/google_scraper/data/processed/2025/06/04/artigos_vitimas_filtrados_2025-06-04.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.840728Z","level":"info","event":"ğŸ” Checking legacy path: /opt/airflow/scripts/google_scraper/data/structured/2025/06/04/artigos_vitimas_filtrados_2025-06-04.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.856183Z","level":"info","event":"ğŸ” Checking legacy path: /opt/airflow/scripts/google_scraper/data/structured/artigos_vitimas_filtrados.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T15:39:37.875958","level":"error","event":"Task failed with exception","logger":"task","error_detail":[{"exc_type":"Exception","exc_value":"No input file found. Checked: ['/opt/airflow/data/processed/2025/06/04/artigos_vitimas_filtrados_20250604.csv', '/opt/airflow/scripts/google_scraper/data/processed/2025/06/04/artigos_vitimas_filtrados_2025-06-04.csv', '/opt/airflow/scripts/google_scraper/data/structured/2025/06/04/artigos_vitimas_filtrados_2025-06-04.csv', '/opt/airflow/scripts/google_scraper/data/structured/artigos_vitimas_filtrados.csv']","exc_notes":[],"syntax_error":null,"is_cause":false,"frames":[{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/execution_time/task_runner.py","lineno":838,"name":"run"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/execution_time/task_runner.py","lineno":1130,"name":"_execute_task"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/bases/operator.py","lineno":408,"name":"wrapper"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/providers/standard/operators/python.py","lineno":212,"name":"execute"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/providers/standard/operators/python.py","lineno":235,"name":"execute_callable"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/execution_time/callback_runner.py","lineno":81,"name":"run"},{"filename":"/opt/airflow/dags/google_scraper_dag.py","lineno":781,"name":"export_supabase_task"}]}]}
{"timestamp":"2025-06-05T16:19:28.556878","level":"info","event":"DAG bundles loaded: dags-folder","logger":"airflow.dag_processing.bundles.manager.DagBundlesManager"}
{"timestamp":"2025-06-05T16:19:28.557219","level":"info","event":"Filling up the DagBag from /opt/airflow/dags/google_scraper_dag.py","logger":"airflow.models.dagbag.DagBag"}
{"timestamp":"2025-06-05T16:19:28.598868Z","level":"info","event":"ğŸ”„ Starting export_supabase task","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.599137Z","level":"info","event":"ğŸ“… Using current date: 2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.599527Z","level":"info","event":"ğŸ“ Ensured directories exist: ['/opt/airflow/scripts/google_scraper/data/raw/2025/06/05', '/opt/airflow/scripts/google_scraper/data/structured/2025/06/05', '/opt/airflow/scripts/google_scraper/data/processed/2025/06/05']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.599690Z","level":"info","event":"ğŸ“… Export Parameters:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.599766Z","level":"info","event":"  - Days: 1","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.599836Z","level":"info","event":"  - Specific date: None (use execution_date)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.599901Z","level":"info","event":"  - Target date: 2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.599963Z","level":"info","event":"  - Database table: artigos_filtrados_20250605_staging","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.600025Z","level":"info","event":"ğŸ“ Input/Output paths:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.607713Z","level":"info","event":"ğŸ“‹ Found 2 files from processar task via XCom","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.607834Z","level":"info","event":"ğŸ” Checking for input file: /opt/airflow/scripts/google_scraper/data/processed/2025/06/05/artigos_vitimas_filtrados_20250605.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.608335Z","level":"info","event":"ğŸ” Checking for input file: /opt/airflow/scripts/google_scraper/data/processed/2025/06/05/artigos_sem_vitimas_20250605.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.608416Z","level":"info","event":"ğŸ” Checking for input file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.608676Z","level":"info","event":"âœ… Found file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv (1335 bytes)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.608819Z","level":"info","event":"ğŸ” Checking for input file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.608903Z","level":"info","event":"âœ… Found file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv (1335 bytes)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.608964Z","level":"info","event":"ğŸ” Checking for input file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/processing_stats_20250605.json","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609050Z","level":"info","event":"âœ… Found file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/processing_stats_20250605.json (416 bytes)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609115Z","level":"info","event":"ğŸ“‹ Selected input file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv (1335 bytes)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609187Z","level":"info","event":"ğŸ“Š Processing all relevant disaster-related articles","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609241Z","level":"info","event":"ğŸ“ Output paths:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609355Z","level":"info","event":"  - export_log: /opt/airflow/scripts/google_scraper/data/processed/2025/06/05/export_log_20250605.log","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609402Z","level":"info","event":"  - export_stats: /opt/airflow/scripts/google_scraper/data/processed/2025/06/05/export_stats_20250605.json","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609448Z","level":"info","event":"  - backup_csv: /opt/airflow/scripts/google_scraper/data/processed/2025/06/05/export_backup_20250605.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609496Z","level":"info","event":"ğŸ”„ Running export command: python /opt/airflow/scripts/google_scraper/exportador_bd/export_to_supabase_airflow.py --output_dir /opt/airflow/scripts/google_scraper/data/processed/2025/06/05 --date_str 2025-06-05 --input_file /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv --date 2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:28.609552Z","level":"info","event":"â° Waiting for export completion with timeout: 600 seconds","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.495276Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] Starting export_to_supabase_airflow","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.495663Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - Starting export_to_supabase_airflow","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.495924Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] Parameters: date=2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.495981Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - Parameters: date=2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.496025Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] Paths: input_file=/opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv, output_dir=/opt/airflow/scripts/google_scraper/data/processed/2025/06/05, date_str=2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.496066Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - Paths: input_file=/opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv, output_dir=/opt/airflow/scripts/google_scraper/data/processed/2025/06/05, date_str=2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497036Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] ğŸš€ Starting export to Supabase for date: 2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497088Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - ğŸš€ Starting export to Supabase for date: 2025-06-05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497126Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] ğŸ“‹ Target table: artigos_filtrados_20250605_staging","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497163Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - ğŸ“‹ Target table: artigos_filtrados_20250605_staging","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497229Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] ğŸ“ Using controlled output directory: /opt/airflow/scripts/google_scraper/data/processed/2025/06/05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497271Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - ğŸ“ Using controlled output directory: /opt/airflow/scripts/google_scraper/data/processed/2025/06/05","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497309Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] âœ… Using provided input file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497381Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - âœ… Using provided input file: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497420Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] ğŸ“‚ Loading articles from: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497455Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,495 - INFO - ğŸ“‚ Loading articles from: /opt/airflow/scripts/google_scraper/data/structured/2025/06/05/artigos_google_municipios_pt_2025-06-05.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497506Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] ğŸ“Š Loaded 4 articles with columns: ['ID', 'type', 'subtype', 'date', 'year', 'month', 'day', 'hour', 'georef', 'district', 'municipali', 'parish', 'DICOFREG', 'source', 'sourcedate', 'sourcetype', 'page', 'fatalities', 'injured', 'evacuated', 'displaced', 'missing']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497546Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,497 - INFO - ğŸ“Š Loaded 4 articles with columns: ['ID', 'type', 'subtype', 'date', 'year', 'month', 'day', 'hour', 'georef', 'district', 'municipali', 'parish', 'DICOFREG', 'source', 'sourcedate', 'sourcetype', 'page', 'fatalities', 'injured', 'evacuated', 'displaced', 'missing']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497627Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] ğŸ“‹ Processing all relevant disaster-related articles","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497676Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,497 - INFO - ğŸ“‹ Processing all relevant disaster-related articles","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497768Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] ğŸ” Database config not found in environment, looking for .env file...","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.497811Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,497 - INFO - ğŸ” Database config not found in environment, looking for .env file...","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.498226Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] âš ï¸ No .env file found in any location","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.498627Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,498 - WARNING - âš ï¸ No .env file found in any location","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.498726Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] âŒ Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.498843Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,498 - ERROR - âŒ Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.498982Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] Available environment variables:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.499023Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29]   DB_HOST: NOT_SET","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.499061Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29]   DB_PORT: NOT_SET","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.501225Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29]   DB_NAME: NOT_SET","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.503226Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29]   DB_USER: NOT_SET","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504184Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29]   DB_PASSWORD: NOT_SET","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504296Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29]   DB_SSLMODE: NOT_SET","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504348Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29]   DB_SCHEMA: NOT_SET","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504399Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] âŒ Database configuration error: Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504451Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,498 - ERROR - âŒ Database configuration error: Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504500Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] âŒ Export failed: Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504548Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,498 - ERROR - âŒ Export failed: Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504640Z","level":"info","event":"ğŸ“‹ [2025-06-05 17:19:29] âŒ Full traceback: Traceback (most recent call last):","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504687Z","level":"info","event":"ğŸ“‹   File \"/opt/airflow/scripts/google_scraper/exportador_bd/export_to_supabase_airflow.py\", line 611, in main","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504736Z","level":"info","event":"ğŸ“‹     result = export_to_supabase(","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504784Z","level":"info","event":"ğŸ“‹              ^^^^^^^^^^^^^^^^^^^","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504835Z","level":"info","event":"ğŸ“‹   File \"/opt/airflow/scripts/google_scraper/exportador_bd/export_to_supabase_airflow.py\", line 515, in export_to_supabase","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504883Z","level":"info","event":"ğŸ“‹     db_config = get_database_config()","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504931Z","level":"info","event":"ğŸ“‹                 ^^^^^^^^^^^^^^^^^^^^^","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.504978Z","level":"info","event":"ğŸ“‹   File \"/opt/airflow/scripts/google_scraper/exportador_bd/export_to_supabase_airflow.py\", line 147, in get_database_config","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505017Z","level":"info","event":"ğŸ“‹     raise ValueError(f\"Missing required database configuration: {missing_fields}\")","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505064Z","level":"info","event":"ğŸ“‹ ValueError: Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505111Z","level":"info","event":"ğŸ“‹","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505159Z","level":"info","event":"ğŸ“‹ 2025-06-05 17:19:29,499 - ERROR - âŒ Full traceback: Traceback (most recent call last):","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505222Z","level":"info","event":"ğŸ“‹   File \"/opt/airflow/scripts/google_scraper/exportador_bd/export_to_supabase_airflow.py\", line 611, in main","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505268Z","level":"info","event":"ğŸ“‹     result = export_to_supabase(","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505318Z","level":"info","event":"ğŸ“‹              ^^^^^^^^^^^^^^^^^^^","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505366Z","level":"info","event":"ğŸ“‹   File \"/opt/airflow/scripts/google_scraper/exportador_bd/export_to_supabase_airflow.py\", line 515, in export_to_supabase","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505414Z","level":"info","event":"ğŸ“‹     db_config = get_database_config()","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505509Z","level":"info","event":"ğŸ“‹                 ^^^^^^^^^^^^^^^^^^^^^","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505557Z","level":"info","event":"ğŸ“‹   File \"/opt/airflow/scripts/google_scraper/exportador_bd/export_to_supabase_airflow.py\", line 147, in get_database_config","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505605Z","level":"info","event":"ğŸ“‹     raise ValueError(f\"Missing required database configuration: {missing_fields}\")","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505654Z","level":"info","event":"ğŸ“‹ ValueError: Missing required database configuration: ['host', 'user', 'password']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.505701Z","level":"info","event":"ğŸ“‹","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.550760Z","level":"info","event":"âŒ Export failed with return code 1","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.550923Z","level":"info","event":"âŒ Unexpected error in export task: Export failed with return code 1:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-05T16:19:29.550809","level":"error","event":"Task failed with exception","logger":"task","error_detail":[{"exc_type":"Exception","exc_value":"Export failed with return code 1: ","exc_notes":[],"syntax_error":null,"is_cause":false,"frames":[{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/execution_time/task_runner.py","lineno":838,"name":"run"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/execution_time/task_runner.py","lineno":1130,"name":"_execute_task"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/bases/operator.py","lineno":408,"name":"wrapper"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/providers/standard/operators/python.py","lineno":212,"name":"execute"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/providers/standard/operators/python.py","lineno":235,"name":"execute_callable"},{"filename":"/home/airflow/.local/lib/python3.11/site-packages/airflow/sdk/execution_time/callback_runner.py","lineno":81,"name":"run"},{"filename":"/opt/airflow/dags/google_scraper_dag.py","lineno":926,"name":"export_supabase_task"}]}]}
