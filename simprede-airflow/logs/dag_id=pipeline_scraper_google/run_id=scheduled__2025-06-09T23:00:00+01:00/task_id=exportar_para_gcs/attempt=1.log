{"timestamp":"2025-06-09T23:09:46.250283","level":"info","event":"DAG bundles loaded: dags-folder","logger":"airflow.dag_processing.bundles.manager.DagBundlesManager"}
{"timestamp":"2025-06-09T23:09:46.250629","level":"info","event":"Filling up the DagBag from /opt/airflow/dags/google_scraper_dag.py","logger":"airflow.models.dagbag.DagBag"}
{"timestamp":"2025-06-09T23:09:46.279754Z","level":"info","event":"🔄 Starting export_to_gcs task","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.286106Z","level":"info","event":"📁 Using paths from export_supabase task: 2025-06-10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.287156Z","level":"info","event":"📅 Using provided execution date: 2025-06-10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.287902Z","level":"info","event":"📁 Ensured directories exist: ['/opt/airflow/data/raw/2025/06/10', '/opt/airflow/data/structured/2025/06/10', '/opt/airflow/data/processed/2025/06/10']","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288000Z","level":"info","event":"📅 GCS Export Parameters:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288239Z","level":"info","event":"  - Days: 1","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288359Z","level":"info","event":"  - Specific date: None (use execution_date)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288442Z","level":"info","event":"  - Target date: 2025-06-10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288510Z","level":"info","event":"  - Base data directory: /opt/airflow/data","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288580Z","level":"info","event":"  - GCS Project ID: From config/environment","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288663Z","level":"info","event":"  - GCS Bucket: From config/environment","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288737Z","level":"info","event":"🔄 Running GCS export command: python /opt/airflow/scripts/google_scraper/exportador_gcs/export_to_gcs_airflow.py --date 2025-06-10 --base_data_dir /opt/airflow/data --output_dir /opt/airflow/data/processed/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:46.288850Z","level":"info","event":"⏰ Waiting for GCS export completion with timeout: 900 seconds","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.304838Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Starting export_to_gcs_airflow","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.305229Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Parameters: date=2025-06-10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.305489Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Paths: base_data_dir=/opt/airflow/data, output_dir=/opt/airflow/data/processed/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.305807Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - GCS: project_id=None, bucket=None","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.305937Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Airflow logs: include=True, dir=/opt/airflow/logs","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.306245Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Cleanup: enabled=True, partial_success=False, dry_run=False","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.307140Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 🚀 Starting GCS export for date: 2025-06-10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.308095Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 📁 Base data directory: /opt/airflow/data","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309127Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 📋 Include Airflow logs: True","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309219Z","level":"info","event":"📋 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 🧹 Cleanup after export: True","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309301Z","level":"info","event":"📋 2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 - 🧹 Cleanup on partial success: False","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309368Z","level":"info","event":"📋 2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 - 🧹 Dry run cleanup: False","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309433Z","level":"info","event":"📋 2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 - 🔧 GCS Configuration:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309497Z","level":"info","event":"📋 2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 -   - Project ID: simprede-461309","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309560Z","level":"info","event":"📋 2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 -   - Bucket: simprede-data-pipeline","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.309626Z","level":"info","event":"📋 2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 -   - Credentials: /opt/airflow/config/gcs-credentials.json","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.374804Z","level":"info","event":"📋 2025-06-10 00:09:47,374 - INFO - 2025-06-10 00:09:47 - ✅ Initialized GCS client with service account: /opt/airflow/config/gcs-credentials.json","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.674405Z","level":"info","event":"📋 2025-06-10 00:09:47,674 - INFO - 2025-06-10 00:09:47 - ✅ Bucket 'simprede-data-pipeline' already exists","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.680863Z","level":"info","event":"📋 2025-06-10 00:09:47,680 - INFO - 2025-06-10 00:09:47 - 📁 Found data directory: /opt/airflow/data/raw/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.681614Z","level":"info","event":"📋 2025-06-10 00:09:47,681 - INFO - 2025-06-10 00:09:47 - 📁 Found data directory: /opt/airflow/data/structured/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.682364Z","level":"info","event":"📋 2025-06-10 00:09:47,682 - INFO - 2025-06-10 00:09:47 - 📁 Found data directory: /opt/airflow/data/processed/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.682618Z","level":"info","event":"📋 2025-06-10 00:09:47,682 - INFO - 2025-06-10 00:09:47 - 📤 Exporting data directory: /opt/airflow/data/raw/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.682754Z","level":"info","event":"📋 2025-06-10 00:09:47,682 - INFO - 2025-06-10 00:09:47 - 📁 Scanning directory: /opt/airflow/data/raw/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.684138Z","level":"info","event":"📋 2025-06-10 00:09:47,683 - INFO - 2025-06-10 00:09:47 - 📤 Uploading /opt/airflow/data/raw/2025/06/10/google_news_articles_20250610.csv → gs://simprede-data-pipeline/data/raw/2025/06/10/google_news_articles_20250610.csv (0.03 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.829576Z","level":"info","event":"📋 2025-06-10 00:09:47,829 - INFO - 2025-06-10 00:09:47 - ✅ Successfully uploaded: data/raw/2025/06/10/google_news_articles_20250610.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.829957Z","level":"info","event":"📋 2025-06-10 00:09:47,829 - INFO - 2025-06-10 00:09:47 - 📤 Uploading /opt/airflow/data/raw/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv → gs://simprede-data-pipeline/data/raw/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv (0.01 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.984112Z","level":"info","event":"📋 2025-06-10 00:09:47,983 - INFO - 2025-06-10 00:09:47 - ✅ Successfully uploaded: data/raw/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:47.984971Z","level":"info","event":"📋 2025-06-10 00:09:47,984 - INFO - 2025-06-10 00:09:47 - 📤 Uploading /opt/airflow/data/raw/2025/06/10/intermediate_google_news_20250610.csv → gs://simprede-data-pipeline/data/raw/2025/06/10/intermediate_google_news_20250610.csv (0.36 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.181374Z","level":"info","event":"📋 2025-06-10 00:09:48,181 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/raw/2025/06/10/intermediate_google_news_20250610.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.182019Z","level":"info","event":"📋 2025-06-10 00:09:48,181 - INFO - 2025-06-10 00:09:48 - 📤 Exporting data directory: /opt/airflow/data/structured/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.182329Z","level":"info","event":"📋 2025-06-10 00:09:48,181 - INFO - 2025-06-10 00:09:48 - 📁 Scanning directory: /opt/airflow/data/structured/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.182931Z","level":"info","event":"📋 2025-06-10 00:09:48,182 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/structured/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv → gs://simprede-data-pipeline/data/structured/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv (0.01 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.286203Z","level":"info","event":"📋 2025-06-10 00:09:48,285 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/structured/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.286765Z","level":"info","event":"📋 2025-06-10 00:09:48,286 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/structured/2025/06/10/processing_stats_20250610.json → gs://simprede-data-pipeline/data/structured/2025/06/10/processing_stats_20250610.json (0.00 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.392320Z","level":"info","event":"📋 2025-06-10 00:09:48,391 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/structured/2025/06/10/processing_stats_20250610.json","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.392726Z","level":"info","event":"📋 2025-06-10 00:09:48,391 - INFO - 2025-06-10 00:09:48 - 📤 Exporting data directory: /opt/airflow/data/processed/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.392993Z","level":"info","event":"📋 2025-06-10 00:09:48,392 - INFO - 2025-06-10 00:09:48 - 📁 Scanning directory: /opt/airflow/data/processed/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.393524Z","level":"info","event":"📋 2025-06-10 00:09:48,393 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/processed/2025/06/10/export_backup_20250610.csv → gs://simprede-data-pipeline/data/processed/2025/06/10/export_backup_20250610.csv (0.01 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.510298Z","level":"info","event":"📋 2025-06-10 00:09:48,509 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/processed/2025/06/10/export_backup_20250610.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.511068Z","level":"info","event":"📋 2025-06-10 00:09:48,510 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/processed/2025/06/10/export_stats_20250610.json → gs://simprede-data-pipeline/data/processed/2025/06/10/export_stats_20250610.json (0.00 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.629190Z","level":"info","event":"📋 2025-06-10 00:09:48,628 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/processed/2025/06/10/export_stats_20250610.json","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.632843Z","level":"info","event":"📋 2025-06-10 00:09:48,628 - INFO - 2025-06-10 00:09:48 - 📋 Starting Airflow logs export...","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.633344Z","level":"info","event":"📋 2025-06-10 00:09:48,628 - INFO - 2025-06-10 00:09:48 - 📋 Starting Airflow logs export for 2025-06-10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.681560Z","level":"info","event":"📋 2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 📋 Found 0 Airflow log paths for 2025-06-10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.682179Z","level":"info","event":"📋 2025-06-10 00:09:48,681 - WARNING - 2025-06-10 00:09:48 - ℹ️ No Airflow logs found for the target date","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.682475Z","level":"info","event":"📋 2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 📋 Airflow logs export completed: 0 uploaded, 0 failed","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.682714Z","level":"info","event":"📋 2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 🧹 Starting cleanup of exported data directories...","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.682934Z","level":"info","event":"📋 2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 🧹 Starting cleanup of 3 data directories","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.685554Z","level":"info","event":"📋 2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - ✅ All files from /opt/airflow/data/raw/2025/06/10 uploaded successfully","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.685777Z","level":"info","event":"📋 2025-06-10 00:09:48,682 - INFO - 2025-06-10 00:09:48 - 🗑️ Deleting directory: /opt/airflow/data/raw/2025/06/10 (0.39 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.686564Z","level":"info","event":"📋 2025-06-10 00:09:48,686 - INFO - 2025-06-10 00:09:48 - ✅ Successfully deleted directory: /opt/airflow/data/raw/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.686964Z","level":"info","event":"📋 2025-06-10 00:09:48,686 - INFO - 2025-06-10 00:09:48 - ✅ All files from /opt/airflow/data/structured/2025/06/10 uploaded successfully","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.687452Z","level":"info","event":"📋 2025-06-10 00:09:48,687 - INFO - 2025-06-10 00:09:48 - 🗑️ Deleting directory: /opt/airflow/data/structured/2025/06/10 (0.01 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.688688Z","level":"info","event":"📋 2025-06-10 00:09:48,688 - INFO - 2025-06-10 00:09:48 - ✅ Successfully deleted directory: /opt/airflow/data/structured/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.688923Z","level":"info","event":"📋 2025-06-10 00:09:48,688 - INFO - 2025-06-10 00:09:48 - ✅ All files from /opt/airflow/data/processed/2025/06/10 uploaded successfully","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.689327Z","level":"info","event":"📋 2025-06-10 00:09:48,689 - INFO - 2025-06-10 00:09:48 - 🗑️ Deleting directory: /opt/airflow/data/processed/2025/06/10 (0.01 MB)","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.690453Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 - ✅ Successfully deleted directory: /opt/airflow/data/processed/2025/06/10","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.690857Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 - 🧹 Cleanup completed: 3/3 directories cleaned","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.691080Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 - ✅ Export completed:","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.691475Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Data directories: 3","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.691958Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Data files uploaded: 7/7","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.692371Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Airflow logs uploaded: 0","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.693004Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Total files uploaded: 7/7","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.694159Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Total size: 0.41 MB","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.696247Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Bucket: gs://simprede-data-pipeline","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.696607Z","level":"info","event":"📋 2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Directories cleaned: 3/3","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.697429Z","level":"info","event":"📋 2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - ✅ Export statistics saved: /opt/airflow/data/processed/2025/06/10/gcs_export_stats_20250610.json","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.697580Z","level":"info","event":"📋 2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - ✅ GCS export completed successfully","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.697708Z","level":"info","event":"📋 2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - 📊 Summary: 7 files uploaded (0 logs), 0.41 MB","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.697817Z","level":"info","event":"📋 2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - 🧹 Cleanup: 3 directories cleaned","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.817253Z","level":"info","event":"✅ GCS export completed successfully!","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.818544Z","level":"info","event":"📊 Successfully uploaded 7 files to GCS","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.818812Z","level":"info","event":"📊 Total size uploaded: 0.03 MB","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.819077Z","level":"info","event":"☁️ GCS bucket: gs://simprede-data-pipeline/data/raw/2025/06/10/google_news_articles_20250610.csv","chan":"stdout","logger":"task"}
{"timestamp":"2025-06-09T23:09:48.819624","level":"info","event":"Done. Returned value was: 2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Starting export_to_gcs_airflow\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Parameters: date=2025-06-10\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Paths: base_data_dir=/opt/airflow/data, output_dir=/opt/airflow/data/processed/2025/06/10\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - GCS: project_id=None, bucket=None\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Airflow logs: include=True, dir=/opt/airflow/logs\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - Cleanup: enabled=True, partial_success=False, dry_run=False\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 🚀 Starting GCS export for date: 2025-06-10\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 📁 Base data directory: /opt/airflow/data\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 📋 Include Airflow logs: True\n2025-06-10 00:09:47,304 - INFO - 2025-06-10 00:09:47 - 🧹 Cleanup after export: True\n2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 - 🧹 Cleanup on partial success: False\n2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 - 🧹 Dry run cleanup: False\n2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 - 🔧 GCS Configuration:\n2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 -   - Project ID: simprede-461309\n2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 -   - Bucket: simprede-data-pipeline\n2025-06-10 00:09:47,305 - INFO - 2025-06-10 00:09:47 -   - Credentials: /opt/airflow/config/gcs-credentials.json\n2025-06-10 00:09:47,374 - INFO - 2025-06-10 00:09:47 - ✅ Initialized GCS client with service account: /opt/airflow/config/gcs-credentials.json\n2025-06-10 00:09:47,674 - INFO - 2025-06-10 00:09:47 - ✅ Bucket 'simprede-data-pipeline' already exists\n2025-06-10 00:09:47,680 - INFO - 2025-06-10 00:09:47 - 📁 Found data directory: /opt/airflow/data/raw/2025/06/10\n2025-06-10 00:09:47,681 - INFO - 2025-06-10 00:09:47 - 📁 Found data directory: /opt/airflow/data/structured/2025/06/10\n2025-06-10 00:09:47,682 - INFO - 2025-06-10 00:09:47 - 📁 Found data directory: /opt/airflow/data/processed/2025/06/10\n2025-06-10 00:09:47,682 - INFO - 2025-06-10 00:09:47 - 📤 Exporting data directory: /opt/airflow/data/raw/2025/06/10\n2025-06-10 00:09:47,682 - INFO - 2025-06-10 00:09:47 - 📁 Scanning directory: /opt/airflow/data/raw/2025/06/10\n2025-06-10 00:09:47,683 - INFO - 2025-06-10 00:09:47 - 📤 Uploading /opt/airflow/data/raw/2025/06/10/google_news_articles_20250610.csv → gs://simprede-data-pipeline/data/raw/2025/06/10/google_news_articles_20250610.csv (0.03 MB)\n2025-06-10 00:09:47,829 - INFO - 2025-06-10 00:09:47 - ✅ Successfully uploaded: data/raw/2025/06/10/google_news_articles_20250610.csv\n2025-06-10 00:09:47,829 - INFO - 2025-06-10 00:09:47 - 📤 Uploading /opt/airflow/data/raw/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv → gs://simprede-data-pipeline/data/raw/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv (0.01 MB)\n2025-06-10 00:09:47,983 - INFO - 2025-06-10 00:09:47 - ✅ Successfully uploaded: data/raw/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv\n2025-06-10 00:09:47,984 - INFO - 2025-06-10 00:09:47 - 📤 Uploading /opt/airflow/data/raw/2025/06/10/intermediate_google_news_20250610.csv → gs://simprede-data-pipeline/data/raw/2025/06/10/intermediate_google_news_20250610.csv (0.36 MB)\n2025-06-10 00:09:48,181 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/raw/2025/06/10/intermediate_google_news_20250610.csv\n2025-06-10 00:09:48,181 - INFO - 2025-06-10 00:09:48 - 📤 Exporting data directory: /opt/airflow/data/structured/2025/06/10\n2025-06-10 00:09:48,181 - INFO - 2025-06-10 00:09:48 - 📁 Scanning directory: /opt/airflow/data/structured/2025/06/10\n2025-06-10 00:09:48,182 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/structured/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv → gs://simprede-data-pipeline/data/structured/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv (0.01 MB)\n2025-06-10 00:09:48,285 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/structured/2025/06/10/artigos_google_municipios_pt_2025-06-10.csv\n2025-06-10 00:09:48,286 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/structured/2025/06/10/processing_stats_20250610.json → gs://simprede-data-pipeline/data/structured/2025/06/10/processing_stats_20250610.json (0.00 MB)\n2025-06-10 00:09:48,391 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/structured/2025/06/10/processing_stats_20250610.json\n2025-06-10 00:09:48,391 - INFO - 2025-06-10 00:09:48 - 📤 Exporting data directory: /opt/airflow/data/processed/2025/06/10\n2025-06-10 00:09:48,392 - INFO - 2025-06-10 00:09:48 - 📁 Scanning directory: /opt/airflow/data/processed/2025/06/10\n2025-06-10 00:09:48,393 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/processed/2025/06/10/export_backup_20250610.csv → gs://simprede-data-pipeline/data/processed/2025/06/10/export_backup_20250610.csv (0.01 MB)\n2025-06-10 00:09:48,509 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/processed/2025/06/10/export_backup_20250610.csv\n2025-06-10 00:09:48,510 - INFO - 2025-06-10 00:09:48 - 📤 Uploading /opt/airflow/data/processed/2025/06/10/export_stats_20250610.json → gs://simprede-data-pipeline/data/processed/2025/06/10/export_stats_20250610.json (0.00 MB)\n2025-06-10 00:09:48,628 - INFO - 2025-06-10 00:09:48 - ✅ Successfully uploaded: data/processed/2025/06/10/export_stats_20250610.json\n2025-06-10 00:09:48,628 - INFO - 2025-06-10 00:09:48 - 📋 Starting Airflow logs export...\n2025-06-10 00:09:48,628 - INFO - 2025-06-10 00:09:48 - 📋 Starting Airflow logs export for 2025-06-10\n2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 📋 Found 0 Airflow log paths for 2025-06-10\n2025-06-10 00:09:48,681 - WARNING - 2025-06-10 00:09:48 - ℹ️ No Airflow logs found for the target date\n2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 📋 Airflow logs export completed: 0 uploaded, 0 failed\n2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 🧹 Starting cleanup of exported data directories...\n2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - 🧹 Starting cleanup of 3 data directories\n2025-06-10 00:09:48,681 - INFO - 2025-06-10 00:09:48 - ✅ All files from /opt/airflow/data/raw/2025/06/10 uploaded successfully\n2025-06-10 00:09:48,682 - INFO - 2025-06-10 00:09:48 - 🗑️ Deleting directory: /opt/airflow/data/raw/2025/06/10 (0.39 MB)\n2025-06-10 00:09:48,686 - INFO - 2025-06-10 00:09:48 - ✅ Successfully deleted directory: /opt/airflow/data/raw/2025/06/10\n2025-06-10 00:09:48,686 - INFO - 2025-06-10 00:09:48 - ✅ All files from /opt/airflow/data/structured/2025/06/10 uploaded successfully\n2025-06-10 00:09:48,687 - INFO - 2025-06-10 00:09:48 - 🗑️ Deleting directory: /opt/airflow/data/structured/2025/06/10 (0.01 MB)\n2025-06-10 00:09:48,688 - INFO - 2025-06-10 00:09:48 - ✅ Successfully deleted directory: /opt/airflow/data/structured/2025/06/10\n2025-06-10 00:09:48,688 - INFO - 2025-06-10 00:09:48 - ✅ All files from /opt/airflow/data/processed/2025/06/10 uploaded successfully\n2025-06-10 00:09:48,689 - INFO - 2025-06-10 00:09:48 - 🗑️ Deleting directory: /opt/airflow/data/processed/2025/06/10 (0.01 MB)\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 - ✅ Successfully deleted directory: /opt/airflow/data/processed/2025/06/10\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 - 🧹 Cleanup completed: 3/3 directories cleaned\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 - ✅ Export completed:\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Data directories: 3\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Data files uploaded: 7/7\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Airflow logs uploaded: 0\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Total files uploaded: 7/7\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Total size: 0.41 MB\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Bucket: gs://simprede-data-pipeline\n2025-06-10 00:09:48,690 - INFO - 2025-06-10 00:09:48 -   - Directories cleaned: 3/3\n2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - ✅ Export statistics saved: /opt/airflow/data/processed/2025/06/10/gcs_export_stats_20250610.json\n2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - ✅ GCS export completed successfully\n2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - 📊 Summary: 7 files uploaded (0 logs), 0.41 MB\n2025-06-10 00:09:48,693 - INFO - 2025-06-10 00:09:48 - 🧹 Cleanup: 3 directories cleaned\n","logger":"airflow.task.operators.airflow.providers.standard.operators.python.PythonOperator"}
